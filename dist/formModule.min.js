!function(a,b){"use-strict";var c,d={},e={},f={};d.formData={},d.validated=null,d.validateField=function(a,b){if("name"===b&&a.length>=4)d.formData[b]=a;else if("email"===b&&a.length>=6)d.formData[b]=a;else{if(!("message"===b&&a.length>=4))return d.validated=!1,e.validationError(b),!1;d.formData[b]=a}},d.submit=function(b,d){a.ajax({type:"POST",url:c,data:b,success:function(a){a.length&&d()}})},d.validate=function(){var b=e.form.find('input[type="text"],input[type="email"],textarea');e.removeErrorClass(),a.each(b,function(){var b=a(this),c=b.attr("name"),e=b.val(),f=b.attr("data-validation");"required"===f?d.validateField(e,c):d.formData[c]=e}),("undefined"==typeof d.validated||d.validated!==!1)&&d.submit(d.formData)};var g={submit:d.submit,validate:d.validate};e.hideForm=function(){self.form.hide()},e.showForm=function(){a(".form-success").length&&a(".form-success").remove(),self.form.show()},e.clearForm=function(){var b=self.form.find('input[type="text"],input[type="email"],textarea');a.each(b,function(){var b=a(this);b.val("")})},e.removeErrorClass=function(){e.form.find("input, textrea").removeClass("form-input-error")},e.validationError=function(a){e.form.find('[name="'+a+'"]').focus().addClass("form-input-error")},e.sendError=function(){},e.sendSuccess=function(){hideForm(),self.form.after('<div class="form-success"><h2>Thank you!</h2><h3>Your message was successfully sent.</h3><a href="#" class="btn">Okay!</a></div>'),a(".form-success .btn").on("click",function(a){a.preventDefault(),clearForm(),showForm()})};var h={removeErrorClass:e.removeErrorClass,validationError:e.validationError,sendError:e.sendError,sendSuccess:e.sendSuccess};f.formSubmit=function(a){a.preventDefault(),d.validate(e.form)};var i={formSubmit:f.formSubmit},j=function(b,c){console.log("ContactForm initialized"),e.form=a(b),e.formParent=a(b).parent(),c=c,e.submitBtn=e.form.find('input[type="submit"]'),e.submitBtn&&e.submitBtn.bind("click",function(a){f.formSubmit(a)})},k={model:g,view:h,controller:i,init:j};"function"==typeof define&&define.amd?define(k):"object"==typeof exports?module.exports=k:b.formHandler=k}(jQuery,window);