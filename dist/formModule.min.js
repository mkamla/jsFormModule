!function(a,b){"use-strict";var c={},d={},e={},f={};c.formData={},c.validateField=function(a,b){if("name"===b&&a.length>=4)c.formData[b]=a;else if("email"===b&&a.length>=6)c.formData[b]=a;else{if(!("message"===b&&a.length>=4))return console.log(b+" not valiated"),c.validated=!1,e.enableSubmit(),d.validationError(b),!1;c.formData[b]=a}},c.submit=function(b,c){"console"===f.actionURL?console.log("Sending form data: "+b):a.ajax({type:"POST",url:f.actionURL,data:b,success:function(a){a.length&&c&&c()}}),d.clearForm(),e.enableSubmit()},c.validate=function(){var b=d.form.find('input[type="text"],input[type="email"],textarea');c.validated=void 0,e.disableSubmit(),d.removeErrorClass(),a.each(b,function(){var b,d=a(this),e=d.attr("name"),f=d.val(),g=d.attr("class");if(g){g=g.split(" ");for(var h in g)"required"===g[h]&&(b=!0)}b?c.validateField(f,e):c.formData[e]=f}),"undefined"==typeof c.validated&&c.validated!==!1&&c.submit(c.formData)};var g={submit:c.submit,validate:c.validate};d.hideForm=function(){d.form.hide()},d.showForm=function(){a(".form-success").length&&a(".form-success").remove(),d.form.show()},d.clearForm=function(){var b=d.form.find('input[type="text"],input[type="email"],textarea');a.each(b,function(){var b=a(this);b.val("")})},d.removeErrorClass=function(){d.form.find("input, textrea").removeClass("input-error")},d.validationError=function(a){d.form.find('[name="'+a+'"]').focus().addClass("input-error")},d.sendError=function(){},d.sendSuccess=function(){hideForm(),self.form.after('<div class="form-success"><h2>Thank you!</h2><h3>Your message was successfully sent.</h3><a href="#" class="btn">Okay!</a></div>'),a(".form-success .btn").on("click",function(a){a.preventDefault(),clearForm(),showForm()})};var h={removeErrorClass:d.removeErrorClass,validationError:d.validationError,sendError:d.sendError,sendSuccess:d.sendSuccess};e.formSubmit=function(a){a.preventDefault(),c.validate(d.form)},e.disableSubmit=function(){d.submitBtn.unbind("click").addClass("disabled")},e.enableSubmit=function(){d.submitBtn.bind("click",function(a){e.formSubmit(a)}).removeClass("disabled")};var i={formSubmit:e.formSubmit},j=function(b,c){d.form=a(b),d.formParent=a(b).parent(),f.actionURL=void 0!==c?c:"console",d.submitBtn=d.form.find('input[type="submit"]'),d.submitBtn&&e.enableSubmit()},k={model:g,view:h,controller:i,init:j};"function"==typeof define&&define.amd?define(k):"object"==typeof exports?module.exports=k:b.formHandler=k}(jQuery,window);